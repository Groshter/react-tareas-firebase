(this["webpackJsonpcrud-firestore"]=this["webpackJsonpcrud-firestore"]||[]).push([[0],{28:function(e,t,r){},31:function(e,t,r){"use strict";r.r(t);var a=r(2),n=r(7),c=r.n(n),o=r(21),i=r.n(o),s=(r(28),r(22)),u=r(6),l=r.n(u),b=r(16),d=r(10),p=r(12),f=r(18);r(32);f.a.initializeApp({apiKey:"AIzaSyDNLaiR5CdTnBnynvqS9DgnWZk2BK2_3ds",authDomain:"crud-firebase-14b0b.firebaseapp.com",projectId:"crud-firebase-14b0b",storageBucket:"crud-firebase-14b0b.appspot.com",messagingSenderId:"233625373362",appId:"1:233625373362:web:298e59b9671584ce9557ab"});var m=r(8),h=r.n(m);var v=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),r=t[0],c=t[1],o=Object(n.useState)(""),i=Object(p.a)(o,2),u=i[0],m=i[1],v=Object(n.useState)(!1),j=Object(p.a)(v,2),g=j[0],x=j[1],O=Object(n.useState)(""),k=Object(p.a)(O,2),w=k[0],N=k[1],S=Object(n.useState)(!0),C=Object(p.a)(S,2),y=C[0],A=C[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=f.a.firestore(),e.next=4,t.collection("tareas").get();case 4:r=e.sent,a=r.docs.map((function(e){return Object(b.a)({id:e.id},e.data())})),c(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Ocurrio un error:"+e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var T=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=!0,u.trim()||(a=!1),!a){e.next=21;break}return e.prev=4,n=f.a.firestore(),o={nombre:u,vigente:!0,fecha:Date.now()},e.next=9,n.collection("tareas").add(o);case 9:i=e.sent,c([].concat(Object(s.a)(r),[Object(b.a)(Object(b.a)({},o),{},{id:i.id})])),console.log(i),m(""),h()({title:"Proceso Correcto",text:"Se ha grabado la tarea",icon:"success",buttons:"Aceptar"}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log("Error al grabar: "+e.t0);case 19:e.next=22;break;case 21:h()({title:"No se puede guardar",text:"Faltan Campos por completar.",icon:"error",buttons:"Terminar Formulario"});case 22:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=f.a.firestore(),e.next=4,a.collection("tareas").doc(t).delete();case 4:n=r.filter((function(e){return e.id!==t})),c(n),h()({title:"Proceso Correcto",text:"Se ha eliminado la tarea",icon:"success",buttons:"Aceptar"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Ocurrio un erro al eliminar: "+e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=!0,u.trim()||(a=!1),!a){e.next=22;break}return e.prev=4,n=f.a.firestore(),e.next=8,n.collection("tareas").doc(w).update({nombre:u});case 8:o=r.map((function(e){return e.id===w?{fecha:e.fecha,id:e.id,nombre:u,vigente:e.vigente}:e})),c(o),x(!1),m(""),N(""),A(!0),h()({title:"Proceso Correcto",text:"Se ha modificado la tarea",icon:"success",buttons:"Aceptar"}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.log("Ocurrio un error al editar: "+e.t0);case 20:e.next=23;break;case 22:h()({title:"No se puede modificar",text:"Faltan Campos por completar.",icon:"error",buttons:"Terminar Formulario"});case 23:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=f.a.firestore(),e.next=4,a.collection("tareas").doc(t).update({vigente:!1});case 4:n=r.map((function(e){return e.id===t?{fecha:e.fecha,id:e.id,nombre:e.nombre,vigente:!1}:e})),c(n),h()({title:"Proceso Correcto",text:"Se ha finalizado la tarea",icon:"success",buttons:"Aceptar"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Ocurrio un error al terminar la tarea: "+e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=f.a.firestore(),e.next=4,a.collection("tareas").doc(t).update({vigente:!0});case 4:n=r.map((function(e){return e.id===t?{fecha:e.fecha,id:e.id,nombre:e.nombre,vigente:!0}:e})),c(n),h()({title:"Proceso Correcto",text:"Se ha activado la tarea",icon:"success",buttons:"Aceptar"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Ocurrio un error al terminar la tarea: "+e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"container mt-3",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col-md-6",children:["Listado de Tareas",Object(a.jsx)("ul",{className:"list-group",children:r.length>0?r.map((function(e){return Object(a.jsxs)("li",{className:e.vigente?"list-group-item":"list-group-item active",children:[e.nombre,Object(a.jsx)("button",{className:"btn btn-success btn-sm float-right",hidden:!e.vigente,onClick:function(){return E(e.id)},disabled:!y,children:"Terminar "}),Object(a.jsx)("button",{className:"btn btn-danger btn-sm float-right mr-2",disabled:!y,onClick:function(){return D(e.id)},hidden:!e.vigente,children:"Eliminar"}),Object(a.jsx)("button",{className:"btn btn-warning btn-sm float-right mr-2",onClick:function(){return t=e,x(!0),m(t.nombre),N(t.id),void A(!1);var t},hidden:!e.vigente,children:"Editar"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info float-right mr-2",hidden:!!e.vigente,onClick:function(){return P(e.id)},children:"Activar"}),Object(a.jsx)("span",{class:"badge bg-warning rounded-pill float-right mr-2 text-center",hidden:!!e.vigente,children:"Terminada"})]},e.id)})):Object(a.jsx)("div",{className:"alert alert-info",role:"alert",children:"No se han agregado tareas a la lista."})})]}),Object(a.jsxs)("div",{className:"col-md-6",children:[Object(a.jsx)("h3",{className:"text-center",children:g?"Modificar Tarea":"Agregar Tarea"}),Object(a.jsxs)("form",{onSubmit:g?function(e){return I(e)}:function(e){return T(e)},children:[Object(a.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Ingrese Tarea",onChange:function(e){return m(e.target.value)},value:u}),Object(a.jsx)("button",{className:g?"btn btn-warning btn-block":"btn btn-dark btn-block",type:"submit",children:g?"Modificar":"Agregar"})]})]})]})})};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(v,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.4dbdbd41.chunk.js.map